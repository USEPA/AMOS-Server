The following is a list of the tables found in the PostgreSQL database that this Flask app calls, along with descriptions of the tables' columns' contents.


COMPOUNDS
This table stores information about the compounds that are searchable in this database.  The information is pulled from DSSTox.
- dtxsid: Substance ID used by EPA's DSSTox product.
- dtxcid: Compound ID used by DSSTox.  Not guaranteed to exist for this data.
- casrn: Chemical Abstracts Service Registry Number.
- jchem_inchikey: JChem InChIKey corresponding to the compound.
- indigo_inchikey: Indigo InChIKey corresponding to the compound.  Does not exist for all compounds, unlike the JChem InChIKey.
- preferred_name: Name of the compound.  These are standardized to the EPA's preferred names as much as possible.
- compound_image: Image of the compound.
- molecular_formula: Molecular formula of the compound.
- molecular_weight: Weight of the compound, in Daltons.


SYNONYMS
Since there are a lot of possible names for compounds, but only one EPA-preferred name, this table covers a list of synonyms and the associated DTXSIDs.
- dtxsid: Substance ID used by EPA's DSSTox product.
- synonym: Synonym for the compound.


CONTENTS
This table connects the compound information tables (via the DTXSID) to the rest of the information for each record (via the internal identifier of the compound).
- dtxsid: Substance ID used by EPA's DSSTox product.
- internal_id: Unique identifier for each record.  For the most part, these identifiers are either the identifiers used in the original sources' data, or identifiers assigned by EPA curators (the latter generally only applies to methods).  This identifier is used across all tables that aren't purely concerned with compound information.


RECORD INFO
This table covers general info that is associated with every kind of record in the database.  Its contents are primarily used by the main search results, though some fields are used to augment results on other pages.
- internal_id: Same as above.
- spectrum_types: A list of the spectrum/methodology types present in the record.
- source: The source where the data was acquired from.  Note that this isn't necessarily the origin of the data, as some sources (e.g., MoNA) aggregate several other sources of data.
- link: The URL where the original record can be found.
- experimental: Boolean indicating whether the record is the result of experimental data (true) or not (false).  At the moment, this is expected to always be true, as the focus of the project is experimental records.
- external_use_allowed: Whether the record will be displayable outside the EPA.  Currently not used by the app.
- description: A description of the data in the record.  The exact contents of this string vary a lot, but generally, this field covers experimental parameters for spectra and summaries or abstracts for fact sheets and methods.
- data_type: Indicates what kind of data this record is associated with.  Currently should be either "spectrum" or "PDF".
- record_type: The kind of record that this entry represents -- either a spectrum, a fact sheet, or a method.


SPECTRUM DATA
This table stores information specific to mass spectra whose spectra are stored directly in the database (so, for instance, Spectrabase doesn't supply the actual spectra in its data dump, so it has no rows in this table).
- internal_id: Same as above.
- splash: Spectral Hash Identifier.  See https://splash.fiehnlab.ucdavis.edu/ for more information.
- spectrum: The spectrum, formatted as two-dimensional array describing a list of charge-to-mass ratios and intensities.
- spectral_entropy: A measurement of the quality of a spectrum, calculated using code based on MoNA's source code.  Will be missing values for spectra with one point (while the formula does actually give a valid value for this case -- zero -- it is not useful, and is stored as missing to be consistent with the normalized entropy below).
- normalized_entropy: A measurement of the quality of a spectrum.  It is a scaling of the spectral entropy to try to offset the effects of having a large number of peaks in the data.
- has_associated_method: A boolean indicating whether there is a method associated with this spectrum.
- spectrum_metadata: A JSON document storing information about the spectrum, usually about the instrument and test conditions it was created under.


SPECTRUM PDFS
This table contains information specific to PDFs that contain spectra that are stored in the database, as well as the PDFs themselves.
- internal_id: Same as above.
- pdf_data: The PDF file, stored as binary data.
- pdf_metadata: A JSON document storing information about the PDF.
- sub_source: Some sources include PDFs from other sources.  This field is used to denote that original source.
- date_published: A string containing the publication date of the PDF.  The format of the dates is not guaranteed to be consistent between all document.


FACT SHEETS
This table contains information specific to fact sheets stored in the database, as well as the fact sheet PDFs themselves.
- internal_id: Same as above.
- pdf_data: The PDF file, stored as binary data.
- pdf_metadata: A JSON document storing information about the fact sheet.  Fields in the metadata are not guaranteed to be consistent across all records.
- sub_source: Some of the sources that we pull directly from include fact sheets from other sources.  This field is used to denote that original source.
- date_published: A string containing the publication date of the fact sheet.  The format of the dates is not guaranteed to be consistent between all fact sheets.
- fact_sheet_name: The name/title of the fact sheet.
- document_type: A shorthand for the type of document.  Usually an abbreviation.


METHODS
This table contains information specific to methods stored in the database, as well as the method PDFs themselves.
- internal_id: Same as above.
- pdf_data: The PDF file, stored as binary data.
- pdf_metadata: A JSON document storing metadata about the method.  Fields in the metadata are not guaranteed to be consistent across all records.
- date_published: A string containing the publication date of the method.  The format of the dates is not guaranteed to be consistent between all methods.
- method_name: The name/title of the methods.
- method_number: A secondary identification number for the method.  Values in internal_id are currently generated by
- analyte: Descriptions of the compound(s) that the method is concerned with.  These aren't necessarily (all of) the individual compounds, but this is much more specific than the chemical_class field.
- chemical_class: The category or categories of compounds that the analytes belong to.
- matrix: The matrix where the compound was discovered and/or analyzed in.
- has_associated_spectra: A boolean indicating whether there are any spectra associated with this method.
- document_type: A shorthand for the type of document.  Usually an abbreviation.


METHODS WITH SPECTRA
This table pairs the internal IDs of methods with the spectra associated with them.  Spectra referenced in this table are assumed to have the spectrum actually in the database (not externally linked or in PDF form).
- method_id: The internal ID of a method.  Should be the internal_id value of a record with record_type="Method".
- spectrum_id: The internal ID of a spectrum.  Should be the internal_id value of a record with record_type="Spectrum".